import{a as p,c as h,r as m,j as e,n as f,g}from"./index-Bv4-c3_I.js";const y=()=>{const n=p(),c=h(),[t,l]=m.useState({title:"",description:"",isPublic:!0}),[r,d]=m.useState(!1),b=async s=>{var u,x;s.preventDefault(),d(!0);try{console.log("[트리 생성 요청]",t);const o=(await f.post("/trees",t)).data;console.log("[트리 생성 응답]",o);const i=o.id||o._id;if(!i)throw new Error("생성된 트리의 ID를 찾을 수 없습니다.");console.log("[트리 생성 성공] treeId:",i),c(g({_id:Date.now().toString(),type:"custom",message:"트리가 성공적으로 생성되었습니다!",read:!1,createdAt:new Date().toISOString()})),n(`/trees/${i}/edit`)}catch(a){console.error("트리 생성 오류:",a),c(g({_id:Date.now().toString(),type:"custom",message:((x=(u=a.response)==null?void 0:u.data)==null?void 0:x.message)||a.message||"트리 생성에 실패했습니다. 다시 시도해주세요.",read:!1,createdAt:new Date().toISOString()}))}finally{d(!1)}};return e.jsx("div",{className:"create-tree-container min-h-screen w-full max-w-full p-2 sm:p-4 overflow-x-auto",children:e.jsxs("div",{className:"bg-white rounded-lg shadow p-4 w-full max-w-2xl mx-auto flex flex-col gap-4",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"새 트리 만들기"}),e.jsxs("form",{onSubmit:b,className:"flex flex-col gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"트리 이름"}),e.jsx("input",{type:"text",id:"title",value:t.title,onChange:s=>l({...t,title:s.target.value}),className:"w-full py-2 px-4 text-base border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"트리의 이름을 입력하세요",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"트리 설명"}),e.jsx("textarea",{id:"description",value:t.description,onChange:s=>l({...t,description:s.target.value}),className:"w-full py-2 px-4 text-base border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"트리에 대한 설명을 입력하세요",rows:4})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"isPublic",checked:t.isPublic,onChange:s=>l({...t,isPublic:s.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"isPublic",className:"ml-2 block text-sm text-gray-700",children:"공개 트리로 만들기"})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx("button",{type:"button",onClick:()=>n(-1),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300",disabled:r,children:"취소"}),e.jsx("button",{type:"submit",className:"w-full sm:w-auto py-2 px-4 text-base bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:bg-blue-300",disabled:r,children:r?"생성 중...":"트리 만들기"})]})]})]})})};export{y as default};
//# sourceMappingURL=CreateTree-DsQFbAWa.js.map
