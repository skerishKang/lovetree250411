import{r as a,j as t,L as g}from"./index-Bv4-c3_I.js";const p=()=>{const[h,f]=a.useState([]),[u,r]=a.useState(!0),[i,n]=a.useState(null);return a.useEffect(()=>{(async()=>{r(!0),n(null);try{const s=await fetch("/api/nodes/rank");if(!s.ok)throw new Error("인기 노드 정보를 불러오지 못했습니다.");const l=await s.json();f(l)}catch(s){n(s.message||"에러가 발생했습니다.")}finally{r(!1)}})()},[]),t.jsx("div",{className:"node-ranking-container min-h-screen w-full max-w-full p-2 sm:p-4 overflow-x-auto",children:t.jsxs("div",{className:"bg-white rounded-lg shadow p-4 w-full max-w-2xl mx-auto flex flex-col gap-4",children:[t.jsx("h1",{className:"text-2xl font-bold mb-6",children:"노드 랭킹"}),u?t.jsx("div",{className:"text-center text-gray-500 py-8",children:"로딩 중..."}):i?t.jsx("div",{className:"text-center text-red-500 py-8",children:i}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:h.map((e,s)=>{var l,c,d,o,x,m;return t.jsxs("div",{className:"bg-white rounded-xl shadow hover:shadow-lg transition-all p-5 flex gap-4 items-center relative",children:[t.jsx("div",{className:"absolute -top-3 -left-3 bg-yellow-400 text-white font-bold rounded-full w-8 h-8 flex items-center justify-center text-lg shadow",children:s+1}),t.jsxs("div",{className:"flex-1",children:[t.jsxs(g,{to:`/trees/${((l=e.tree)==null?void 0:l.id)||e.treeId||((c=e.tree)==null?void 0:c._id)}`,className:"text-blue-600 text-sm hover:underline",children:["[",((d=e.tree)==null?void 0:d.title)||e.treeTitle||"트리","]"]}),t.jsx("div",{className:"text-lg font-semibold mt-1",children:e.title}),t.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["by ",((o=e.author)==null?void 0:o.name)||e.authorName||"알 수 없음"]}),t.jsxs("div",{className:"flex gap-4 mt-2",children:[t.jsxs("span",{className:"text-red-500 font-bold",children:["❤️ ",((x=e.likes)==null?void 0:x.length)??e.likes??0]}),t.jsxs("span",{className:"text-blue-500 font-bold",children:["💬 ",((m=e.comments)==null?void 0:m.length)??e.comments??0]})]})]})]},e.id||e._id)})})]})})};export{p as default};
//# sourceMappingURL=NodeRanking-w9vY0Ex8.js.map
