{"version":3,"file":"TreeRanking-A0CuKmhj.js","sources":["../../src/pages/TreeRanking.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport api from '@/utils/axios';\r\n\r\nconst TreeRanking: React.FC = () => {\r\n  const [trees, setTrees] = useState<any[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    const fetchRanking = async () => {\r\n      setLoading(true);\r\n      setError(null);\r\n      try {\r\n        const res = await api.get('/trees/rank');\r\n        setTrees(res.data);\r\n      } catch (err: any) {\r\n        setError(err.response?.data?.message || err.message || 'ÏóêÎü¨Í∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchRanking();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"tree-ranking-container min-h-screen w-full max-w-full p-2 sm:p-4 overflow-x-auto\">\r\n      <div className=\"bg-white rounded-lg shadow p-4 w-full max-w-2xl mx-auto flex flex-col gap-4\">\r\n        <h1 className=\"text-2xl font-bold mb-6\">Ìä∏Î¶¨ Îû≠ÌÇπ</h1>\r\n        {loading ? (\r\n          <div className=\"text-center text-gray-500 py-8\">Î°úÎî© Ï§ë...</div>\r\n        ) : error ? (\r\n          <div className=\"text-center text-red-500 py-8\">{error}</div>\r\n        ) : (\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n            {trees.map((tree, idx) => (\r\n              <div key={tree.id || tree._id} className=\"bg-white rounded-xl shadow hover:shadow-lg transition-all p-5 flex gap-4 items-center relative\">\r\n                <div className=\"absolute -top-3 -left-3 bg-yellow-400 text-white font-bold rounded-full w-8 h-8 flex items-center justify-center text-lg shadow\">{idx+1}</div>\r\n                <img\r\n                  src={tree.mediaImage || '/tree-default.png'}\r\n                  alt=\"ÎåÄÌëú Ïù¥ÎØ∏ÏßÄ\"\r\n                  className=\"w-20 h-20 object-cover rounded-lg border\"\r\n                />\r\n                <div className=\"flex-1\">\r\n                  <Link to={`/trees/${tree.id || tree._id}`} className=\"text-lg font-semibold hover:underline\">{tree.title}</Link>\r\n                  <div className=\"text-sm text-gray-500 mt-1\">by {tree.author?.name || tree.authorName || 'Ïïå Ïàò ÏóÜÏùå'}</div>\r\n                  <div className=\"flex gap-4 mt-2\">\r\n                    <span className=\"text-red-500 font-bold\">‚ù§Ô∏è {tree.likes?.length ?? tree.likes ?? 0}</span>\r\n                    <span className=\"text-blue-500 font-bold\">üë• {tree.followers?.length ?? tree.followers ?? 0}</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TreeRanking; "],"names":["TreeRanking","trees","setTrees","useState","loading","setLoading","error","setError","useEffect","res","api","err","_b","_a","jsxs","jsx","tree","idx","Link","_c"],"mappings":"6DAIA,MAAMA,EAAwB,IAAM,CAClC,KAAM,CAACC,EAAOC,CAAQ,EAAIC,EAAAA,SAAgB,CAAA,CAAE,EACtC,CAACC,EAASC,CAAU,EAAIF,EAAAA,SAAS,EAAI,EACrC,CAACG,EAAOC,CAAQ,EAAIJ,EAAAA,SAAwB,IAAI,EAEtDK,OAAAA,EAAAA,UAAU,IAAM,EACO,SAAY,SAC/BH,EAAW,EAAI,EACfE,EAAS,IAAI,EACT,GAAA,CACF,MAAME,EAAM,MAAMC,EAAI,IAAI,aAAa,EACvCR,EAASO,EAAI,IAAI,QACVE,EAAU,CACjBJ,IAASK,GAAAC,EAAAF,EAAI,WAAJ,YAAAE,EAAc,OAAd,YAAAD,EAAoB,UAAWD,EAAI,SAAW,aAAa,CAAA,QACpE,CACAN,EAAW,EAAK,CAAA,CAEpB,GACa,CACf,EAAG,EAAE,QAGF,MAAI,CAAA,UAAU,mFACb,SAACS,EAAA,KAAA,MAAA,CAAI,UAAU,8EACb,SAAA,CAACC,EAAA,IAAA,KAAA,CAAG,UAAU,0BAA0B,SAAK,QAAA,EAC5CX,EACEW,EAAA,IAAA,MAAA,CAAI,UAAU,iCAAiC,SAAO,SAAA,CAAA,EACrDT,EACFS,EAAA,IAAC,MAAI,CAAA,UAAU,gCAAiC,SAAAT,CAAA,CAAM,EAErDS,EAAA,IAAA,MAAA,CAAI,UAAU,wCACZ,SAAMd,EAAA,IAAI,CAACe,EAAMC,IAChBH,WAAAA,OAAAA,EAAAA,KAAC,MAA8B,CAAA,UAAU,iGACvC,SAAA,CAAAC,EAAA,IAAC,MAAI,CAAA,UAAU,kIAAmI,SAAAE,EAAI,EAAE,EACxJF,EAAA,IAAC,MAAA,CACC,IAAKC,EAAK,YAAc,oBACxB,IAAI,SACJ,UAAU,0CAAA,CACZ,EACAF,EAAAA,KAAC,MAAI,CAAA,UAAU,SACb,SAAA,CAACC,EAAA,IAAAG,EAAA,CAAK,GAAI,UAAUF,EAAK,IAAMA,EAAK,GAAG,GAAI,UAAU,wCAAyC,SAAAA,EAAK,MAAM,EACzGF,EAAAA,KAAC,MAAI,CAAA,UAAU,6BAA6B,SAAA,CAAA,QAAID,EAAAG,EAAK,SAAL,YAAAH,EAAa,OAAQG,EAAK,YAAc,QAAA,EAAS,EACjGF,EAAAA,KAAC,MAAI,CAAA,UAAU,kBACb,SAAA,CAACA,EAAAA,KAAA,OAAA,CAAK,UAAU,yBAAyB,SAAA,CAAA,QAAIF,EAAAI,EAAK,QAAL,YAAAJ,EAAY,SAAUI,EAAK,OAAS,CAAA,EAAE,EACnFF,EAAAA,KAAC,OAAK,CAAA,UAAU,0BAA0B,SAAA,CAAA,QAAIK,EAAAH,EAAK,YAAL,YAAAG,EAAgB,SAAUH,EAAK,WAAa,CAAA,CAAE,CAAA,CAAA,CAC9F,CAAA,CAAA,CACF,CAAA,CAAA,CAAA,EAdQA,EAAK,IAAMA,EAAK,GAe1B,EACD,CACH,CAAA,CAAA,CAAA,CAEJ,CACF,CAAA,CAEJ"}