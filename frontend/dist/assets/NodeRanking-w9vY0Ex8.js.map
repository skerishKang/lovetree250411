{"version":3,"file":"NodeRanking-w9vY0Ex8.js","sources":["../../src/pages/NodeRanking.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst NodeRanking: React.FC = () => {\r\n  const [nodes, setNodes] = useState<any[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    const fetchRanking = async () => {\r\n      setLoading(true);\r\n      setError(null);\r\n      try {\r\n        const res = await fetch('/api/nodes/rank');\r\n        if (!res.ok) throw new Error('Ïù∏Í∏∞ ÎÖ∏Îìú Ï†ïÎ≥¥Î•º Î∂àÎü¨Ïò§ÏßÄ Î™ªÌñàÏäµÎãàÎã§.');\r\n        const data = await res.json();\r\n        setNodes(data);\r\n      } catch (err: any) {\r\n        setError(err.message || 'ÏóêÎü¨Í∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchRanking();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"node-ranking-container min-h-screen w-full max-w-full p-2 sm:p-4 overflow-x-auto\">\r\n      <div className=\"bg-white rounded-lg shadow p-4 w-full max-w-2xl mx-auto flex flex-col gap-4\">\r\n        <h1 className=\"text-2xl font-bold mb-6\">ÎÖ∏Îìú Îû≠ÌÇπ</h1>\r\n        {loading ? (\r\n          <div className=\"text-center text-gray-500 py-8\">Î°úÎî© Ï§ë...</div>\r\n        ) : error ? (\r\n          <div className=\"text-center text-red-500 py-8\">{error}</div>\r\n        ) : (\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n            {nodes.map((node, idx) => (\r\n              <div key={node.id || node._id} className=\"bg-white rounded-xl shadow hover:shadow-lg transition-all p-5 flex gap-4 items-center relative\">\r\n                <div className=\"absolute -top-3 -left-3 bg-yellow-400 text-white font-bold rounded-full w-8 h-8 flex items-center justify-center text-lg shadow\">{idx+1}</div>\r\n                <div className=\"flex-1\">\r\n                  <Link to={`/trees/${node.tree?.id || node.treeId || node.tree?._id}`} className=\"text-blue-600 text-sm hover:underline\">[{node.tree?.title || node.treeTitle || 'Ìä∏Î¶¨'}]</Link>\r\n                  <div className=\"text-lg font-semibold mt-1\">{node.title}</div>\r\n                  <div className=\"text-sm text-gray-500 mt-1\">by {node.author?.name || node.authorName || 'Ïïå Ïàò ÏóÜÏùå'}</div>\r\n                  <div className=\"flex gap-4 mt-2\">\r\n                    <span className=\"text-red-500 font-bold\">‚ù§Ô∏è {node.likes?.length ?? node.likes ?? 0}</span>\r\n                    <span className=\"text-blue-500 font-bold\">üí¨ {node.comments?.length ?? node.comments ?? 0}</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NodeRanking; "],"names":["NodeRanking","nodes","setNodes","useState","loading","setLoading","error","setError","useEffect","res","data","err","jsxs","jsx","node","idx","Link","_a","_b","_c","_d","_e","_f"],"mappings":"sDAGA,MAAMA,EAAwB,IAAM,CAClC,KAAM,CAACC,EAAOC,CAAQ,EAAIC,EAAAA,SAAgB,CAAA,CAAE,EACtC,CAACC,EAASC,CAAU,EAAIF,EAAAA,SAAS,EAAI,EACrC,CAACG,EAAOC,CAAQ,EAAIJ,EAAAA,SAAwB,IAAI,EAEtDK,OAAAA,EAAAA,UAAU,IAAM,EACO,SAAY,CAC/BH,EAAW,EAAI,EACfE,EAAS,IAAI,EACT,GAAA,CACI,MAAAE,EAAM,MAAM,MAAM,iBAAiB,EACzC,GAAI,CAACA,EAAI,GAAU,MAAA,IAAI,MAAM,uBAAuB,EAC9C,MAAAC,EAAO,MAAMD,EAAI,KAAK,EAC5BP,EAASQ,CAAI,QACNC,EAAU,CACRJ,EAAAI,EAAI,SAAW,aAAa,CAAA,QACrC,CACAN,EAAW,EAAK,CAAA,CAEpB,GACa,CACf,EAAG,EAAE,QAGF,MAAI,CAAA,UAAU,mFACb,SAACO,EAAA,KAAA,MAAA,CAAI,UAAU,8EACb,SAAA,CAACC,EAAA,IAAA,KAAA,CAAG,UAAU,0BAA0B,SAAK,QAAA,EAC5CT,EACES,EAAA,IAAA,MAAA,CAAI,UAAU,iCAAiC,SAAO,SAAA,CAAA,EACrDP,EACFO,EAAA,IAAC,MAAI,CAAA,UAAU,gCAAiC,SAAAP,CAAA,CAAM,EAErDO,EAAA,IAAA,MAAA,CAAI,UAAU,wCACZ,SAAMZ,EAAA,IAAI,CAACa,EAAMC,IAChBH,iBAAAA,OAAAA,EAAAA,KAAC,MAA8B,CAAA,UAAU,iGACvC,SAAA,CAAAC,EAAA,IAAC,MAAI,CAAA,UAAU,kIAAmI,SAAAE,EAAI,EAAE,EACxJH,EAAAA,KAAC,MAAI,CAAA,UAAU,SACb,SAAA,CAAAA,EAAA,KAACI,EAAK,CAAA,GAAI,YAAUC,EAAAH,EAAK,OAAL,YAAAG,EAAW,KAAMH,EAAK,UAAUI,EAAAJ,EAAK,OAAL,YAAAI,EAAW,IAAG,GAAI,UAAU,wCAAwC,SAAA,CAAA,MAAEC,EAAAL,EAAK,OAAL,YAAAK,EAAW,QAASL,EAAK,WAAa,KAAK,GAAA,EAAC,EACrKD,EAAA,IAAA,MAAA,CAAI,UAAU,6BAA8B,WAAK,MAAM,EACxDD,EAAAA,KAAC,MAAI,CAAA,UAAU,6BAA6B,SAAA,CAAA,QAAIQ,EAAAN,EAAK,SAAL,YAAAM,EAAa,OAAQN,EAAK,YAAc,QAAA,EAAS,EACjGF,EAAAA,KAAC,MAAI,CAAA,UAAU,kBACb,SAAA,CAACA,EAAAA,KAAA,OAAA,CAAK,UAAU,yBAAyB,SAAA,CAAA,QAAIS,EAAAP,EAAK,QAAL,YAAAO,EAAY,SAAUP,EAAK,OAAS,CAAA,EAAE,EACnFF,EAAAA,KAAC,OAAK,CAAA,UAAU,0BAA0B,SAAA,CAAA,QAAIU,EAAAR,EAAK,WAAL,YAAAQ,EAAe,SAAUR,EAAK,UAAY,CAAA,CAAE,CAAA,CAAA,CAC5F,CAAA,CAAA,CACF,CAAA,CAAA,CAAA,EAVQA,EAAK,IAAMA,EAAK,GAW1B,EACD,CACH,CAAA,CAAA,CAAA,CAEJ,CACF,CAAA,CAEJ"}