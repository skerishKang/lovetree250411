{"version":3,"file":"Login-BwjyJn2e.js","sources":["../../src/pages/Login.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport { login } from '../features/auth/authSlice';\r\nimport { RootState } from '../store';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst Login = () => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const { isAuthenticated, error } = useSelector((state: RootState) => state.auth);\r\n\r\n  // location.state에서 이전 페이지 경로를 가져옴\r\n  const from = location.state?.from || '/';\r\n\r\n  useEffect(() => {\r\n    if (isAuthenticated) {\r\n      // 로그인 성공 시 이전 페이지로 리다이렉트\r\n      navigate(from);\r\n    }\r\n  }, [isAuthenticated, navigate, from]);\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    try {\r\n      await dispatch(login({ email, password }) as any);\r\n    } catch (err) {\r\n      toast.error('로그인에 실패했습니다. 이메일과 비밀번호를 확인해주세요.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"login-container min-h-screen w-full max-w-full p-2 sm:p-4 overflow-x-auto\">\r\n      <div className=\"bg-white rounded-lg shadow p-4 w-full max-w-md mx-auto flex flex-col gap-4\">\r\n        <h1 className=\"text-2xl font-bold text-center mb-8\">로그인</h1>\r\n        <form onSubmit={handleSubmit} className=\"flex flex-col gap-4\">\r\n          <div>\r\n            <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n              이메일\r\n            </label>\r\n            <input\r\n              type=\"email\"\r\n              id=\"email\"\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500\"\r\n              required\r\n            />\r\n          </div>\r\n          <div>\r\n            <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n              비밀번호\r\n            </label>\r\n            <input\r\n              type=\"password\"\r\n              id=\"password\"\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500\"\r\n              required\r\n            />\r\n          </div>\r\n          {error && <p className=\"text-red-500 text-sm\">{error}</p>}\r\n          <button\r\n            type=\"submit\"\r\n            className=\"w-full bg-pink-500 text-white py-2 px-4 rounded-md hover:bg-pink-600 transition-colors\"\r\n          >\r\n            로그인\r\n          </button>\r\n        </form>\r\n        <p className=\"mt-4 text-center text-sm text-gray-600\">\r\n          계정이 없으신가요?{' '}\r\n          <button\r\n            onClick={() => navigate('/register')}\r\n            className=\"text-pink-500 hover:text-pink-600\"\r\n          >\r\n            회원가입\r\n          </button>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login; "],"names":["Login","email","setEmail","useState","password","setPassword","dispatch","useDispatch","navigate","useNavigate","location","useLocation","isAuthenticated","error","useSelector","state","from","_a","useEffect","handleSubmit","e","login","toast","jsxs","jsx"],"mappings":"yFAOA,MAAMA,EAAQ,IAAM,OAClB,KAAM,CAACC,EAAOC,CAAQ,EAAIC,EAAAA,SAAS,EAAE,EAC/B,CAACC,EAAUC,CAAW,EAAIF,EAAAA,SAAS,EAAE,EACrCG,EAAWC,EAAY,EACvBC,EAAWC,EAAY,EACvBC,EAAWC,EAAY,EACvB,CAAE,gBAAAC,EAAiB,MAAAC,CAAM,EAAIC,EAAaC,GAAqBA,EAAM,IAAI,EAGzEC,IAAOC,EAAAP,EAAS,QAAT,YAAAO,EAAgB,OAAQ,IAErCC,EAAAA,UAAU,IAAM,CACVN,GAEFJ,EAASQ,CAAI,CAEd,EAAA,CAACJ,EAAiBJ,EAAUQ,CAAI,CAAC,EAE9B,MAAAG,EAAe,MAAOC,GAAuB,CACjDA,EAAE,eAAe,EACb,GAAA,CACF,MAAMd,EAASe,EAAM,CAAE,MAAApB,EAAO,SAAAG,CAAU,CAAA,CAAQ,OACpC,CACZkB,EAAM,MAAM,iCAAiC,CAAA,CAEjD,EAEA,aACG,MAAI,CAAA,UAAU,4EACb,SAACC,EAAA,KAAA,MAAA,CAAI,UAAU,6EACb,SAAA,CAACC,EAAA,IAAA,KAAA,CAAG,UAAU,sCAAsC,SAAG,MAAA,EACtDD,EAAA,KAAA,OAAA,CAAK,SAAUJ,EAAc,UAAU,sBACtC,SAAA,CAAAI,OAAC,MACC,CAAA,SAAA,CAAAC,MAAC,QAAM,CAAA,QAAQ,QAAQ,UAAU,+CAA+C,SAEhF,MAAA,EACAA,EAAA,IAAC,QAAA,CACC,KAAK,QACL,GAAG,QACH,MAAOvB,EACP,SAAWmB,GAAMlB,EAASkB,EAAE,OAAO,KAAK,EACxC,UAAU,yGACV,SAAQ,EAAA,CAAA,CACV,EACF,SACC,MACC,CAAA,SAAA,CAAAI,MAAC,QAAM,CAAA,QAAQ,WAAW,UAAU,+CAA+C,SAEnF,OAAA,EACAA,EAAA,IAAC,QAAA,CACC,KAAK,WACL,GAAG,WACH,MAAOpB,EACP,SAAWgB,GAAMf,EAAYe,EAAE,OAAO,KAAK,EAC3C,UAAU,yGACV,SAAQ,EAAA,CAAA,CACV,EACF,EACCP,GAASW,EAAA,IAAC,IAAE,CAAA,UAAU,uBAAwB,SAAMX,EAAA,EACrDW,EAAA,IAAC,SAAA,CACC,KAAK,SACL,UAAU,yFACX,SAAA,KAAA,CAAA,CAED,EACF,EACAD,EAAAA,KAAC,IAAE,CAAA,UAAU,yCAAyC,SAAA,CAAA,aACzC,IACXC,EAAA,IAAC,SAAA,CACC,QAAS,IAAMhB,EAAS,WAAW,EACnC,UAAU,oCACX,SAAA,MAAA,CAAA,CAED,CACF,CAAA,CAAA,CAAA,CACF,CACF,CAAA,CAEJ"}