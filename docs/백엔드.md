# 백엔드 폴더 구조 및 주요 파일/기능

## 폴더 구조

backend/
├─ app.js                # Express 앱 인스턴스 및 미들웨어/라우트/에러핸들링
├─ server.js             # 서버 실행 진입점(웹소켓, 포트, 로깅 등 포함)
├─ package.json
├─ .env
├─ README.md
├─ config/
│  ├─ db.js              # DB 연결 설정
│  ├─ passport.js        # Passport 인증 전략
│  ├─ ports.js           # 포트 및 URL 관리
│  ├─ socket.js          # 소켓 초기화/설정
│  ├─ multer.js          # 파일 업로드 설정
├─ controllers/
│  ├─ postController.js, treeController.js, ...
│  # 각종 비즈니스 로직 처리
├─ docs/
│  ├─ api.md             # API 문서
├─ middleware/
│  ├─ auth.js, authMiddleware.js, error.js
│  # 인증, 에러처리 등 미들웨어
├─ models/
│  ├─ User.js, Post.js, Tree.js, ...
│  # DB 스키마 및 모델
├─ routes/
│  ├─ userRoutes.js, postRoutes.js, trees.js, ...
│  # API 라우트
├─ utils/
│  ├─ websocket.js, notification.js, ...
│  # 유틸리티 함수/모듈
├─ tests/
│  # 테스트 코드

## 주요 파일 및 기능

- **server.js**  
  : Express 서버 실행, 웹소켓/포트/로깅/정적파일/미들웨어/라우트 등 전체 초기화 및 실행 담당

- **app.js**  
  : Express 앱 인스턴스, 미들웨어/라우트/에러핸들링 등 핵심 로직

- **config/db.js**  
  : MongoDB 연결 설정

- **config/passport.js**  
  : Passport 기반 인증 전략 설정

- **config/socket.js**  
  : 소켓 통신(WebSocket) 초기화

- **models/User.js**  
  : 사용자 스키마, 비밀번호 해싱, 검증, 로깅 등

- **routes/trees.js**  
  : 트리(노드) 관련 API 라우트 (생성, 조회, 상세, 노드업데이트 등)

- **controllers/**  
  : 각종 비즈니스 로직 처리 (게시글, 트리, 팔로우, 알림, 채팅 등)

- **middleware/auth.js, error.js**  
  : 인증, 에러처리 미들웨어

- **utils/logger.js, websocket.js**  
  : 로깅, 웹소켓 등 유틸리티

- **docs/api.md**  
  : API 명세 문서

## 기타

- 환경 변수는 `.env`에서 관리
- 로그는 logs/ 폴더에 저장
- 테스트는 tests/ 폴더에 위치 