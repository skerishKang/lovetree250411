# Node.js 서버 실행 오류 진단 및 해결 실전 사례 (2025-04-21)

## 1. 증상 및 현상
- 서버 실행 시 require/import 단계까지는 로그가 정상적으로 출력됨
- 특정 라우트(require)에서 멈추거나, 조용히 프로세스가 종료됨
- 에러 메시지("Cannot find module" 등) 없이 바로 프롬프트로 돌아옴
- MongoDB 연결, 서버.listen 등 하단 코드가 실행되지 않음

## 2. 진단 및 시도한 과정
1. **server.js, 라우트, 컨트롤러 등 단계별로 console.log 추가**
   - 어디서 멈추는지 한 줄씩 추적
2. **require/import 한 줄씩 주석 처리/해제**
   - 문제 라우트/컨트롤러 파일을 좁혀감
3. **문제 파일(userRoutes.js, userController.js 등) 완전 삭제 후 새로 생성**
   - 복사/붙여넣기 없이 새 파일로 직접 작성
   - 정상 진입 로그만 남긴 뒤 한 줄씩 기존 코드 복원
4. **Node.js 최신 LTS 버전으로 재설치**
   - C드라이브(기본 경로)에 설치
5. **npm install로 의존성 재설치**
6. **몽고디비 실행 여부, .env 변수명(MONGODB_URI) 등 환경 변수 점검**
7. **app.use 라우트 등록 한 줄씩 주석 처리/해제**
   - 라우트별로 console.log 추가하며 어디서 멈추는지 추적
8. **문제 라우트(googleAuthRoutes 등)도 완전히 새로 만듦**
9. **userController.js, googleAuthRoutes.js 등 삭제 후에도 require 시 에러 메시지 없이 조용히 종료되는 현상 반복**

## 3. 결론 및 원인
- 코드/의존성/Node.js 런타임/파일 인코딩 등 모든 점검을 했음에도
- **폴더명에 공백(스페이스)이 포함된 경로(예: '14. lovetree')에서만**
  Node.js가 require 시 조용히 죽는 현상 발생
- 윈도우 환경에서 공백, 한글, 특수문자 경로는 Node.js, npm, 네이티브 모듈에서
  예기치 못한 오류(조용히 종료, 에러 미출력 등)를 유발할 수 있음

## 4. 실전 해결 방법
1. **프로젝트 전체를 공백 없는 영문 경로로 복사**
   - 예: `C:/workspace/lovetree`, `G:/workspace/lovetree` 등
2. **복사한 경로에서 npm install → node backend/server.js 실행**
3. **이후에도 동일 증상 시, 숨김 파일/권한/OS 문제, 다른 PC/OS에서 실행 등 추가 점검**

## 5. 실전 팁/권장 사항
- Node.js, npm, MongoDB 등은 C드라이브(기본 경로)에 설치
- 프로젝트 폴더는 영문/숫자/언더바/하이픈만 사용, 공백/한글/특수문자 피하기
- require/import 단계에서 조용히 죽는 현상은 경로 문제일 확률이 매우 높음
- 라우트/컨트롤러 파일은 복사/붙여넣기 대신 새 파일로 직접 작성
- 중요한 진단/해결 과정은 오류.md 등으로 기록해두기

---

이 문서를 참고하여, 비슷한 현상이 발생할 때
- **공백/한글/특수문자 경로를 반드시 점검**하고
- 영문 경로에서 다시 실행해보는 것을 최우선으로 시도하세요.

진행 중 궁금한 점, 추가 진단이 필요하면 언제든 기록/문의하세요! 